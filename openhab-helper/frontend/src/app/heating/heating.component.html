<div class="card">
  <div class="card-content">
    <div class="columns is-gapless is-vcentered is-mobile">
      <div class="column is-narrow title-icon">
        <app-svg-icon icon="thermometer-outline"></app-svg-icon>
      </div>
      <div class="column">
        <h2>Heizthermostate</h2>
      </div>
    </div>
    <p class="block has-text-gray">
      Bearbeite deine Einstellungen zu den Heizthermostaten.
    </p>
  </div>
</div>

<div class="columns is-multiline">
  <div class="column is-half" *ngFor="let heatingItem of heatingItems">
    <div class="box">
      <h2 class="h3 has-single-line">{{ heatingItem.item.label }}</h2>
      <p class="block">...</p>
      <form
        [formGroup]="heatingItem.form"
        (ngSubmit)="updateItem(heatingItem)"
        [ngClass]="{
          'has-error': heatingItem.form.touched && !heatingItem.form.valid
        }">
        <div class="field is-grouped is-grouped-multiline">
          <div class="control">
            <input
              class="input"
              formControlName="on"
              type="text"
              placeholder="ON" />
          </div>
          <div class="control">
            <input
              class="input"
              formControlName="off"
              type="text"
              placeholder="OFF" />
          </div>
          <div class="control">
            <input
              class="input"
              formControlName="power"
              type="text"
              placeholder="POWER" />
          </div>
          <div class="control">
            <input
              class="input"
              formControlName="eco"
              type="text"
              placeholder="ECO" />
          </div>
          <div class="control">
            <button type="submit" class="button is-primary">Speichern</button>
          </div>
        </div>
        <p
          class="help is-danger"
          *ngIf="
            heatingItem.form.touched && heatingItem.form.hasError('invalid')
          ">
          Die Werte sind ung√ºltig.
        </p>
        <p
          class="help is-danger"
          *ngIf="heatingItem.form.hasError('connection')">
          Keine Verbindung zur OpenHAB-Instanz.
        </p>
      </form>
    </div>
  </div>
</div>
